## 概要

このアプリケーションは、フロントエンドに Next.js、バックエンドに Rust、データベースに PostgreSQL を組み合わせたフルスタックの Web ソリューションです。Docker を使用してアプリケーションをカプセル化することで、デプロイの簡易化と環境の一貫性が保証されています。

## フロントエンド

- **フレームワーク:** Next.js
  - サーバーサイドレンダリングの機能を活用して、アプリケーションをより効率的かつ SEO 対策に優れたものにしています。

## バックエンド

- **言語:** Rust
  - パフォーマンスと安全性の特徴から選ばれました。
- **フレームワーク:** Actix Web
  - Rust のための強力で実用的で非常に高速な Web フレームワークです。
- **データベースとの対話:** Diesel
  - Diesel は Rust の ORM とクエリビルダーとして使用され、PostgreSQL との安全な対話を提供します。

## データベース

- **DBMS:** PostgreSQL
  - 堅牢で信頼性の高いオープンソースのリレーショナルデータベースです。

## コンテナ化

- **ツール:** Docker
  - Docker を使用してアプリケーションをコンテナ化し、異なる環境間での一貫性を保証し、デプロイを簡素化しています。

## バックエンドの技術詳細

Rust のバックエンドは、スキーマとモデルのモジュールで構成され、データベースとの対話には Diesel を使用しています。また、HTTP リクエストとレスポンスの処理には Actix Web を使用しています。

### 主要なコードスニペット

1. **データベース接続とプーリング**

   - PostgreSQL への接続は、r2d2 と Diesel の ConnectionManager を使用して管理されています。
   - 環境変数は設定に使用され、データベース URL などの情報を含みます。

2. **HTTP サーバーとルート**

   - Actix Web サーバーが設定され、ポート 8080 でリッスンします。
   - CORS は、`http://localhost:3000`で提供されるフロントエンドからのリクエストを許可するように設定されています。
   - 基本的な挨拶（`/`）とデータの送信（`/submit`）のためのルートが定義されています。

3. **データ処理**
   - リクエストデータの構造を定義するための`Person`構造体が定義されています。
   - `submit`関数は、JSON データの処理、データベースとの対話、レスポンスの送信を示しています。

### 環境設定

- アプリケーションは、環境管理に`dotenv`クレートを使用しており、データベース URL などの機密情報を安全に保存することができます。

## アプリケーションの実行

- client

```
npm run dev
```

- DB 起動

```
docker-compose up --build
```

- server

```
cargo install cargo-watch
cargo watch -x run
```
